(this["webpackJsonpwith-yelp"]=this["webpackJsonpwith-yelp"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(3),l=n.n(i),c=(n(13),n(4)),r=n(5),o=n(1),u=n(7),m=n(6),h=(n(14),function(){return s.a.createElement("div",{className:"jumbotron jumbotron-fluid"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"display-4"},"Hii, this app uses Yelp public API"),s.a.createElement("p",{className:"lead"},"For a valid result please fill search prompts strings using English. For this API version you will recieve valid results only for locations from Europe and USA")))}),d={url:"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?",apiKey:"HQNwYMc7dtjc7oi8Qq7IkBwQEEkiH-a0KhwMbKQ_r7EdfLEWqAYXipWD-dFvsZAIpnj8R09C5kLr4KJQmqtnxN5k4t7O-0fv74MUOGmcn7Dykiq74D_6EuorVpcZX3Yx",makeRequest:function(e,t,n){var a=this.url+"location="+e+"&term="+t+"&sort_by"+n;return fetch(a,{headers:{Authorization:"Bearer "+this.apiKey}}).then((function(e){if(e.ok)return e.json();console.log("request failed")})).then((function(e){return e})).catch((function(e){console.log(e.message)}))}},p=function(e){return s.a.createElement("div",{className:"col-12 col-md-4 col-lg-3 mb-4 mx-auto"},s.a.createElement("div",{className:"card p-0"},s.a.createElement("h5",{className:"card-title text-center"},e.business.name),s.a.createElement("img",{src:e.business.image_url,className:"card-img",alt:"logo",height:"200px"}),s.a.createElement("div",{className:"card-body d-flex justify-content-between p-0"},s.a.createElement("div",null,s.a.createElement("div",null,e.business.name),s.a.createElement("div",null,e.business.categories[0].title),s.a.createElement("div",null,e.business.location.city)),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("span",{className:"badge badge-info"},e.business.rating)," stars"),s.a.createElement("div",null,e.business.review_count," reviews"),s.a.createElement("div",null,e.business.location.adress1?e.business.location.adress1:e.business.location.zip_code)))))},b=function(e){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},e.businesses.map((function(e){return s.a.createElement(p,{key:e.id,business:e})}))))},v=function(e){return s.a.createElement("form",{className:"mb-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 mb-2"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Business",onChange:function(t){e.onTermChange(t.target.value)}})),s.a.createElement("div",{className:"col-12 col-md-6"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Where",onChange:function(t){e.onLocationChange(t.target.value)},required:!0})),s.a.createElement("input",{type:"submit",className:"btn btn-outline-primary mt-3 mx-auto px-5",value:"send",onClick:e.onClick})))},E=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={businesses:[],location:"",term:"",sortBy:"best_match"},a.handleLocationChange=a.handleLocationChange.bind(Object(o.a)(a)),a.handleTermChange=a.handleTermChange.bind(Object(o.a)(a)),a.handleClick=a.handleClick.bind(Object(o.a)(a)),a}return Object(r.a)(n,[{key:"handleLocationChange",value:function(e){this.setState({location:e})}},{key:"handleTermChange",value:function(e){this.setState({term:e})}},{key:"handleClick",value:function(e){var t=this;e.preventDefault(),d.makeRequest(this.state.location,this.state.term,this.state.sortBy).then((function(e){console.log(e),e?t.setState({businesses:e.businesses}):t.setState({businesses:[]})}))}},{key:"renderResponse",value:function(){return this.state.businesses.length?s.a.createElement(b,{businesses:this.state.businesses}):s.a.createElement(h,null)}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,"With Yelp App"),s.a.createElement(v,{onLocationChange:this.handleLocationChange,onTermChange:this.handleTermChange,onClick:this.handleClick}),this.renderResponse())}}]),n}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.e2e0b41e.chunk.js.map